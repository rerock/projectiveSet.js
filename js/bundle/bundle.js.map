{"version":3,"sources":["webpack/bootstrap fabe7d568d168de2183a","./js/entry.js","./js/main/game.js","./js/main/table.js","./js/main/card.js","./js/main/deck.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC3ED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,kCAAkC;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;AC9CA;AACA,kCAAiC,6BAA6B;AAC9D;AACA;AACA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/bundle/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fabe7d568d168de2183a\n **/","var Game = require(\"./main/game\");\nvar col_base = 6;\nvar game = new Game(col_base);\nvar table = game.table;\n\n$('#cards').click(function(e){\n  if(e.target.id === 'cards'){\n    return;\n  }\n  var cardIndex = parseInt(e.target.id.charAt(4));\n  if(isNaN(cardIndex)){\n    return;\n  }\n  $('#card'+cardIndex).toggleClass('select');\n  table.deal[cardIndex] = !table.deal[cardIndex];\n});\n\n$('#cards').bind('click', function(){\n  var res = game.xor(table);\n  var scoreCard = new Card(document.getElementsByTagName(\"canvas\")[col_base+1], res, col_base);\n  scoreCard.draw();\n  if(res === 0){\n    game.increaseScore();\n    $('.select').fadeOut(150).fadeIn(150).removeClass('select');\n    setTimeout(function() {\n      table.dealCards(col_base);\n    }, 150)\n    if (game.gameOver()) {\n      document.body.innerHTML = \"<h1 id='game-over'>YOU ROCK!</h1>\";\n    }\n  }\n});\n\n$('#newgame').click(function(){\n  window.location.reload();\n});\n\n$('#clear').click(function(){\n  $('.select').removeClass('select');\n  var scoreCard = new Card(document.getElementsByTagName(\"canvas\")[col_base+1], 0, col_base);\n  scoreCard.draw();\n});\n\n$('#solve').click(function(){\n  var solve = game.solve(table);\n  for (var i = 0; i < solve.length; i++) {\n    if (solve[i] === 1) {\n      $('#card'+i).addClass('select');\n      table.deal[i] = true;\n    }\n    else {\n      $('#card'+i).removeClass('select');\n      table.deal[i] = false;\n    }\n  }\n  var res = game.xor(table);\n  var scoreCard = new Card(document.getElementsByTagName(\"canvas\")[col_base+1], res, col_base);\n  scoreCard.draw();\n});\n\n$('#beginner').click(function() {\n  $('.card').remove();\n  $('.card_back').remove();\n  var cards = document.getElementById(\"cards\");\n  col_base = 3;\n  var card;\n  for (var i = 0; i < col_base+1; i++) {\n    card = document.createElement(\"canvas\");\n    card.className = 'card';\n    card.id = 'card'+i;\n    cards.appendChild(card);\n  }\n  game = new Game(col_base);\n  $('#score').text(\"Score: \" +game.score);\n  table = game.table;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/entry.js\n ** module id = 0\n ** module chunks = 0\n **/","var Table = require(\"./table\");\n\nGame = function(col_base){\n  this.col_base = col_base\n  this.table = new Table(this.col_base);\n  this.score = 0;\n};\n\nGame.prototype.xor = function(table) {\n  return _xor(table.deal, table);\n};\n\nGame.prototype.gameOver = function(){\n  return this.table.deck.deck.length === 0;\n};\n\nGame.prototype.solve = function(table) {\n  var selectedArray;\n  for(var i = 1; i <= Math.pow(2,this.col_base+1); i++){\n    selectedArray = _selectedArray(i, this.col_base+1);\n    if (_xor(selectedArray, table) === 0){\n      return selectedArray;\n    }\n  }\n};\n\nGame.prototype.increaseScore = function(){\n  for (var i = 0; i < this.table.deal.length; i++) {\n    if (this.table.deal[i]) {\n      this.score ++;\n    }\n  }\n  $('#score').text(\"Score: \" +this.score);\n};\n\n_xor = function(selected, table){\n  var result = 0;\n  for (var i = 0; i < selected.length; i++) {\n    if (selected[i]) {\n      result ^= table.items[i].number;\n    }\n  }\n  return result;\n}\n\n_selectedArray = function(num, col_base){\n  var result = [];\n  for(var i = 0; i<col_base+1; i++){\n    result.push(num % 2);\n    num = Math.floor(num / 2);\n  }\n  return result;\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Card = require(\"./card\");\nvar Deck = require(\"./deck\");\n\nTable = function(col_base){\n  this.deck = new Deck(col_base);\n  this.deck.shuffle();\n  this.items = new Array(col_base+1);\n  this.canvas = new Array(col_base+1);\n  this.deal = new Array(col_base+1);\n  for (var i = 0; i < col_base+1; i++) {\n    $(\"#card\"+i).removeClass('select');\n    this.canvas[i] = document.getElementsByTagName(\"canvas\")[i];\n    this.items[i] = new Card(this.canvas[i], this.deck.draw(),col_base);\n    this.items[i].draw();\n    this.deal[i] = false;\n  }\n  var canvas = document.getElementsByTagName(\"canvas\")[col_base+1];\n  var scoreCard = new Card(canvas, 0, col_base);\n  scoreCard.draw();\n};\n\nTable.prototype.dealCards = function(col_base){\n  for(var i = 0; i < col_base+1; i++) {\n    if(this.deal[i]){\n      this.items[i] = new Card(this.canvas[i], this.deck.draw(), col_base);\n      this.items[i].draw();\n      this.deal[i] = false;\n    }\n  }\n};\n\nmodule.exports = Table;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main/table.js\n ** module id = 2\n ** module chunks = 0\n **/","var color = [ 'red', 'blue', 'green', 'orange', 'purple', 'yellow'];\n\nCard = function(canvas, number, col_base){\n  this.canvas = canvas;\n  this.ctx = canvas.getContext('2d');\n  canvas.width = 110;\n  canvas.height = 170;\n  this.cw = canvas.width;\n  this.ch = canvas.height;\n  this.number = number;\n  this.circle = new Array(col_base);\n  this.col_base = col_base;\n  var y_len = (col_base === 3 || col_base === 4) ? 4 : 6;\n  for (var i = 0; i < col_base; i++) {\n    this.circle[i] = {};\n    this.circle[i].color = color[i];\n    if (i % 2) {\n      this.circle[i].x = this.cw*3/4;\n      this.circle[i].y = this.ch*i/y_len;\n    } else {\n      this.circle[i].x = this.cw/4;\n      this.circle[i].y = this.ch*(i+1)/y_len;\n    }\n  }\n};\n\nCard.prototype.draw = function(){\n  this.ctx.fillStyle = \"rgba(0,0,0,0)\";\n  this.ctx.fillRect(0, 0, this.cw, this.ch);\n  var i;\n  for(var pos = 0; pos < this.col_base; pos++){\n    i = Math.pow(2, pos);\n    if((this.number & i) !== 0){\n      this.drawColor(pos);\n    }\n  }\n};\n\nCard.prototype.drawColor = function(n){\n  this.ctx.beginPath();\n  this.ctx.fillStyle = this.circle[n]['color'];\n  this.ctx.arc(this.circle[n]['x'], this.circle[n]['y'],this.cw/4 - 10, 0, Math.PI * 2 );\n  this.ctx.fill();\n}\n\n\nmodule.exports = Card;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main/card.js\n ** module id = 3\n ** module chunks = 0\n **/","Deck = function(col_base){\n  this.deck = Array.apply(null, {length: Math.pow(2,col_base)}).map(Number.call, Number).splice(1);\n  var deck = document.getElementById(\"deck\");\n  var card;\n  for (var i = 0; i < this.deck.length; i++) {\n    card = document.createElement(\"div\");\n    card.className = 'card_back';\n    deck.appendChild(card);\n  }\n};\n\nDeck.prototype.shuffle = function(){\n  var i = 0, j = 0, temp = null;\n  for (i = this.deck.length - 1; i > 0; i -= 1) {\n    j = Math.floor(Math.random() * (i + 1));\n    temp = this.deck[i];\n    this.deck[i] = this.deck[j];\n    this.deck[j] = temp;\n  }\n};\n\n\nDeck.prototype.draw = function(){\n  if (this.deck.length) {\n    $('div#deck > div:first').remove();\n    return this.deck.shift();\n  }\n  return this.deck.length ? this.deck.shift() : 0;\n};\n\nmodule.exports = Deck;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main/deck.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}